---------------------------------------------------------------
-- PROCEDURE PARA CONFIGURAR NOVA IES - 07/2015
-- ------------------------------------------------------------
CREATE OR REPLACE PROCEDURE DBSIAF.SP_CONFIGURA_NOVA_IES(P_COD_INST_ORIGEM            IN NUMBER,
                                                         P_COD_INST_DESTINO           IN NUMBER,
                                                         P_COD_CAMPUS_DESTINO         IN NUMBER,
                                                         P_ESTABELECIMENTO_DATASUL    IN VARCHAR2,
                                                         P_SGL_INST_ENDWEB_MINUSCULO  IN VARCHAR2,
                                                         P_SGL_INST_MINUSCULO         IN VARCHAR2,
                                                         P_COD_NIV_CURSO              IN NUMBER,
                                                         P_MSG_ERRO                   IN OUT VARCHAR2 ) IS

--- PARTE DO ACADEMICO 
/*
INSERT INTO DBSIAF.INSTITUICAO_EXTERNA
(COD_INSTIT_EXTERNA,
COD_TPO_INSTITUICAO,
NOM_INSTIT_EXTERNA,
SGL_INSTIT_EXTERNA,
NOM_RDZ_INSTITUICAO,
COD_INEP,
COD_STA_INSTIT_EXTERNA,
COD_CAT_INSTI_EXTERNA,
IND_MEC)
VALUES 
(dbsiaf.Instituicao_Externa_s.nextval, -- COD_INSTIT_EXTERNA
60,                                   -- COD_TPO_INSTITUICAO
'Faculdade Una de Pouso Alegre',      -- NOM_INSTIT_EXTERNA
'UnaPouso',                           -- SGL_INSTIT_EXTERNA
'Faculdade Una de Pouso Alegre',      -- NOM_RDZ_INSTITUICAO
NULL,                                 -- COD_INEP
2,                                     -- COD_STA_INSTIT_EXTERNA
NULL,                                 -- COD_CAT_INSTI_EXTERNA 
NULL                                  -- IND_MEC
);


INSERT INTO DBSIAF.INSTITUICAO_ENSINO
(COD_INSTITUICAO, 
NOM_INSTITUICAO,  
SGL_INSTITUICAO,
NOM_MANTENEDORA,
NUM_CNPJ,
DSC_ATO,
DAT_CRIACAO,
NUM_CODIFIC_IBGE,
DSC_TIPOLOGIA, 
ARQ_LOGOMARCA,
SGL_MANTENEDORA,
END_HOST_EMAIL,
NUM_PORTA_EMAIL,
COD_REL_FRENTE_DIPLOMA,
COD_INSTITUICAO_INTEGRADOR,
IMG_LOGO_DOTNET,
COD_INSTIT_EXTERNA,
NUM_PORTADOR_DATASUL)
VALUES
(
11,                                           -- COD_INSTITUICAO
'Centro Universitário UNA',                   -- NOM_INSTITUICAO
'UNAPouso',                                   -- SGL_INSTITUICAO
'Minas Gerais Educação S.A.',                 -- NOM_MANTENEDORA
'05.648.257/0017-35',                         -- NUM_CNPJ
'Decreto Federal de 02 de outubro de 2000',   -- DSC_ATO
to_date('01/10/2015','dd/mm/yyyy'),           -- DAT_CRIACAO
11,                                           -- NUM_CODIFIC_IBGE
'Particular',                                 -- DSC_TIPOLOGIA
'una.bmp',                                    -- ARQ_LOGOMARCA
'MGE',                                        -- SGL_MANTENEDORA
'192.168.174.24',                             -- END_HOST_EMAIL
25,                                           -- NUM_PORTA_EMAIL
122,                                          -- COD_REL_FRENTE_DIPLOMA
10,                                           -- COD_INSTITUICAO_INTEGRADOR
'https://aplicativos.animaeducacao.com.br/images/logotipos/logo_una.jpg', -- IMG_LOGO_DOTNET
(SELECT MAX(COD_INSTIT_EXTERNA)                            
   FROM DBSIAF.INSTITUICAO_EXTERNA) ,         -- COD_INSTIT_EXTERNA
35613                                         -- NUM_PORTADOR_DATASUL
);*/

--- =============================================================================

/*

grant execute on DBSIAF.SP_CONFIGURA_NOVA_IES to DBSIAF;
grant SELECT  on DBINTEGRACAO.CONFIG_REGRA_APROP_S to DBSIAF;
grant SELECT  ON DBINTEGRACAO.CONFIG_APROPRIACAO_S to DBSIAF; 

grant INSERT  ON DBINTEGRACAO.CONFIG_APROPRIACAO to DBSIAF;
grant INSERT  on DBINTEGRACAO.CONFIG_REGRA_APROP to DBSIAF;
grant INSERT ON DBINTEGRACAO.PARAMETROS_INTEGRADOR to DBSIAF;

  -- Sigla em minuSculo para completar o endereço/pagina web
  P_SGL_INST_ENDWEB_MINUSCULO         DBSIAF.INSTITUICAO_ENSINO.SGL_INSTITUICAO%TYPE;  

  -- sigla da instituição letra minúscula
  --P_SGL_MINUSCULO_INST      DBSIAF.INSTITUICAO_ENSINO.SGL_INSTITUICAO%TYPE;  
  */

  N_COD_TPO_PARAMETRO  DBSIAF.TIPO_PARAMETRO_INST.COD_TPO_PARAMETRO%TYPE;

  S_NOM_LOGRADOURO   DBSIAF.END_INSTITUICAO.NOM_LOGRADOURO%TYPE;
  S_NOM_COMPLEMENTO  DBSIAF.END_INSTITUICAO.NOM_COMPLEMENTO%TYPE;
  S_NOM_BAIRRO       DBSIAF.END_INSTITUICAO.NOM_BAIRRO%TYPE;
  S_CEP_ENDERECO     DBSIAF.END_INSTITUICAO.CEP_ENDERECO%TYPE;
  S_TEL_ENDERECO     DBSIAF.END_INSTITUICAO.TEL_ENDERECO%TYPE;
  S_NOM_CIDADE       DBSIAF.CIDADE.NOM_CIDADE%TYPE;
  S_SGL_ESTADO       DBSIAF.ESTADO.SGL_ESTADO%TYPE;
  S_SGL_PAIS         DBSIAF.PAIS.SGL_PAIS%TYPE;
  S_VAL_PARAMETRO    DBSIAF.PARAMETRO_INST.VAL_PARAMETRO%TYPE;
  
  N_COD_CURSO           DBSIAF.CURSO.COD_CURSO%TYPE; 
  N_COD_GRD_CURRICULAR  DBSIAF.GRADE_CURRICULAR.COD_GRD_CURRICULAR%TYPE; 

  N_COD_DEPARTAMENTO           DBSIAF.DEPARTAMENTO_ENSINO.COD_DEPARTAMENTO%TYPE;  
	
/*  N_COD_INST_ORIGEM           := 3;   -- NCODINST e N_COD_INST_DESTINO
  N_COD_INST_DESTINO          := 11;  -- NCODINSTCOPIA
  P_SGL_INST_ENDWEB_MINUSCULO := 'UNAPouso';      -- SSIGLA
  P_COD_CAMPUS_DESTINO        := 117;           -- NCAMPUS
  P_ESTABELECIMENTO_DATASUL   := '028';   -- PARA CADASTRAR A CONTA CORRENTE
  P_SGL_INST_MINUSCULO        := 'una';
  P_COD_NIV_CURSO             := 2;*/

/*  SELECT OWNER, CONSTRAINT_NAME , TABLE_NAME
     FROM ALL_CONSTRAINTS
    WHERE CONSTRAINT_NAME IN
                  (SELECT R_CONSTRAINT_NAME
                     FROM ALL_CONSTRAINTS  C1
                    WHERE C1.TABLE_NAME = 'ESPECIE_DATASUL_SOLIC'
                      AND C1.R_CONSTRAINT_NAME IS NOT NULL);
                      
                      
Para copias as configurações de Remessa e Retonro
163- HSBC BANK SA - 1926 - 0022609 - COB
201- HSBC BANK SA - Sem Registro - COB
--160- BANCO INTERNO - 9999 - 0001 

BEGIN
  DBSIAF.SP_REPLICA_LAYOUT(201,297 );
END;
296  DIVIHSBC BANK SA - 1926 - 0022609 - COB
297  DIVIHSBC BANK SA - Sem Registro - COB
--295  UNA DIVI - BANCO INTERNO - 9999 - 0001
                      

BEGIN
   DBSIAF.SP_ATUALIZA_MVIEW('DBSIAF.MV_PORTADOR');
   DBSIAF.SP_ATUALIZA_MVIEW('DBSIAF.MV_BANCO_DATASUL');
   DBSIAF.SP_ATUALIZA_MVIEW('DBSIAF.MV_CARTEIRA_COBRANCA');
   DBSIAF.SP_ATUALIZA_MVIEW('DBSIAF.MV_ESPECIE_DOCUMENTO');
   DBSIAF.SP_ATUALIZA_MVIEW('DBSIAF.MV_PORTADOR_FIN_ECONOMICA');
   DBSIAF.SP_ATUALIZA_MVIEW('DBSIAF.MV_CONTA_CORRENTE');
   DBSIAF.SP_ATUALIZA_MVIEW('MV_CCUSTO_UND_NEGOCIO');
END;

                      */
  NCODALUNO NUMBER := DBSIAF.ALUNO_S.NEXTVAL;


BEGIN
    P_MSG_ERRO := 'OK';

    dbsiaf.pc_aluno.SP_LIBERA_STATUS(nCODALUNO,7);  
    -- Inserir aluno Global

    SELECT MAX(COD_CURSO)
      INTO N_COD_CURSO
      FROM DBSIAF.CURSO CUR
     WHERE CUR.COD_INSTITUICAO = P_COD_INST_DESTINO
       AND CUR.COD_NIV_CURSO   = P_COD_NIV_CURSO;  
    
    IF N_COD_CURSO IS NULL THEN 

       BEGIN
         -- Criar departamento de ensino
          SELECT NVL(MAX(COD_DEPARTAMENTO),0)
            INTO N_COD_DEPARTAMENTO
            FROM dbsiaf.departamento_ensino d
           WHERE d.cod_instituicao = P_COD_INST_DESTINO;       

					IF N_COD_DEPARTAMENTO = 0 then 
							INSERT INTO dbsiaf.departamento_ensino
									(COD_DEPARTAMENTO,
									 COD_INSTITUICAO,
									 COD_NIV_CURSO,
									 NOM_DEPARTAMENTO,
									 SGL_DEPARTAMENTO,
									 NUM_REF_DEPARTAMENTO)
							VALUES
								( dbsiaf.departamento_ensino_s.nextval,
								 P_COD_INST_DESTINO,
								 P_COD_NIV_CURSO,
								'Pró-Reitoria de Pós-Graduação', 
								'PRPG',
								 1);
    
             SELECT NVL(MAX(COD_DEPARTAMENTO),0)
               INTO N_COD_DEPARTAMENTO
               FROM dbsiaf.departamento_ensino d
              WHERE d.cod_instituicao = P_COD_INST_DESTINO; 

          END IF;

          -- Criar curso para nova IES (Aluno global)
          INSERT INTO dbsiaf.curso
								 (COD_CURSO,
									COD_NIV_CURSO ,
									COD_DEPARTAMENTO,
									COD_PERIODICIDADE,
									NOM_CURSO,
									SGL_CURSO,
									TMP_MAXIMO,
									TMP_MINIMO,
									OBS_CURSO,
									COD_CENTRO_CUSTO,
									IND_DIS_ISOLADA,
									NOM_CURSO_CERTIFICADO,
									COD_PROGRAMA,
									COD_CURSO_INEP,
									COD_CURSO_DESTINO,
									IND_REINGRESSO,
									COD_TPO_SEQUENCIA,
									NUM_REF_CURSO,
									IND_VARIAS_HABILIT,
									COD_CURSO_INTEGRADOR,
									IND_DAT_VALIDADE_VAGA,
									IND_ESPECIAL_F_AMPLIADA,
									COD_AREA_CONHECIMENTO,
									IND_EAD,
									COD_CURSO_DESTINO_INEP,
									COD_INSTITUICAO)                         
								SELECT 
									DBSIAF.CURSO_S.NEXTVAL,
									COD_NIV_CURSO,
									N_COD_DEPARTAMENTO,
									COD_PERIODICIDADE,
									NOM_CURSO,
									SGL_CURSO,
									TMP_MAXIMO,
									TMP_MINIMO,
									OBS_CURSO,
									COD_CENTRO_CUSTO,
									IND_DIS_ISOLADA,
									NOM_CURSO_CERTIFICADO,
									COD_PROGRAMA,
									COD_CURSO_INEP,
									COD_CURSO_DESTINO,
									IND_REINGRESSO,
									COD_TPO_SEQUENCIA,
									NUM_REF_CURSO,
									IND_VARIAS_HABILIT,
									COD_CURSO_INTEGRADOR,
									IND_DAT_VALIDADE_VAGA,
									IND_ESPECIAL_F_AMPLIADA,
									COD_AREA_CONHECIMENTO,
									IND_EAD,
									COD_CURSO_DESTINO_INEP,
									P_COD_INST_DESTINO		                          
            FROM DBSIAF.CURSO CUR
           WHERE CUR.COD_CURSO = (SELECT MAX(COD_CURSO)
																		FROM DBSIAF.CURSO CUR
																	 WHERE CUR.COD_INSTITUICAO = P_COD_INST_ORIGEM
																		 AND CUR.COD_NIV_CURSO   = P_COD_NIV_CURSO); 
       EXCEPTION
         WHEN OTHERS THEN
           P_MSG_ERRO := 'Não existe curso cadastrado para a nova IES para o nível do curso informado';
       END;
    END IF; 
    
/* ANALISAR O SELECT PARA BUSCAR GRADE COM QUALIFICAÇÃO
TRIGGER DBSIAF.TAUI_ALUNO

SELECT COUNT(DISTINCT A.COD_GRD_CURRICULAR)
 INTO NINDEXISTE
  FROM GRADE_QUALIFICACAO A,
  QUALIFICACAO       B
 WHERE A.COD_QUALIFICACAO = B.COD_QUALIFICACAO
   AND B.COD_CURSO = :NEW.COD_CURSO
   AND A.COD_GRD_CURRICULAR = :NEW.COD_GRD_CURRICULAR;
-- =====                                                                                                                                                                           
IF NINDEXISTE = 0 THEN
-- =====                                                                                                                                                                         
RAISE_APPLICATION_ERROR(-20500,
	'A versão da GRADE CURRICULAR escolhida não existe para o CURSO do aluno ...');
-- =====                                                                                                                                                                         
END IF;
*/


    SELECT MAX(GC.COD_GRD_CURRICULAR)
      INTO N_COD_GRD_CURRICULAR
      FROM DBSIAF.GRADE_CURRICULAR GC
     WHERE GC.COD_INSTITUICAO = P_COD_INST_DESTINO; 
     
    IF N_COD_GRD_CURRICULAR IS NULL THEN  
       P_MSG_ERRO := 'Não existe grade curricular cadastrada para a nova IES';
		   
			 SELECT 'EXISTE'
         INTO N_COD_GRD_CURRICULAR
         FROM DBSIAF.GRADE_CURRICULAR GC
        WHERE GC.COD_INSTITUICAO = P_COD_INST_DESTINO;
		
    END IF; 

    INSERT INTO DBSIAF.ALUNO
       (COD_ALUNO,
        COD_CURSO,
        COD_GRD_CURRICULAR,
        COD_STA_ALUNO,
        COD_TURNO,
        COD_TPO_ENTRADA,
        COD_TPO_SAIDA,
        COD_ESTADO_CIVIL,
        COD_CIDADE,
        COD_CIDADE_TE,
        COD_TPO_DEFICIENCIA,
        COD_OCORRENCIA,
        COD_TPO_SANGUINEO,
        COD_CAMPUS,
        NOM_ALUNO,
        NUM_MATRICULA,
        DAT_NASCIMENTO,
        DAT_ENTRADA,
        DAT_SAIDA,
        DAT_COLACAO,
        DAT_PROVAO,
        DAT_DIPLOMA,
        IND_SEXO,
        IND_CANHOTO,
        NUM_CPF,
        NUM_CERT_MILITAR,
        NOM_ORGEXP_CM,
        DSC_SITUACAO_CM,
        DAT_EMISSAO_CM,
        NUM_TIT_ELEITOR,
        NUM_SECAO_TE,
        NUM_ZONA_TE,
        NUM_IDENTIDADE,
        DAT_EMISSAO,
        NOM_ORGEXP_CI,
        EML_ALUNO,
        TEL_CELULAR,
        NUM_PLACA,
        NOM_EMPRESA,
        VAL_RENDA_MENSAL,
        DAT_ADMISSAO,
        DSC_FUNCAO,
        VAL_SALDO,
        NUM_CREDITO,
        OBS_HISTORICO,
        OBS_ALUNO,
        NUM_PASTA,
        SEN_ALUNO,
        CODCONC,
        CODCAN,
        SGL_PREVISAO_FORMATURA,
        IND_CRACHA,
        IND_FORMANDO,
        COD_TPO_FORMATO,
        COD_QDR_VAGAS,
        DAT_VALIDADE_VAGA,
        IND_UNIFICACAO,
        IND_CALOURO,
        IND_REG_FINANCEIRO,
        IND_REG_ACADEMICO,
        IND_MOSTRA_WEB,
        COD_TPO_PROVA,
        COD_PERIODO_FORMATURA,
        COD_PAIS_NC,
        COD_PESSOA,
        IND_IMP_CUR_ORIGEM,
        COD_PLETIVO_OCORR,
        COD_TURMA,
        DAT_CADASTRO,
        NOM_ALUNO_INEP,
        COD_PERIODO_ENTRADA,
        IND_CONFERIDO,
        COD_CTR_CUSTO_CAMPUS,
        COD_COR_RACA,
        COD_INSTITUICAO,
        COD_TPO_ALUNO
         )
    SELECT
        NCODALUNO,
        N_COD_CURSO,
        N_COD_GRD_CURRICULAR,
        COD_STA_ALUNO,
        COD_TURNO,
        COD_TPO_ENTRADA,
        COD_TPO_SAIDA,
        COD_ESTADO_CIVIL,
        COD_CIDADE,
        COD_CIDADE_TE,
        COD_TPO_DEFICIENCIA,
        COD_OCORRENCIA,
        COD_TPO_SANGUINEO,
        P_COD_CAMPUS_DESTINO,
        NOM_ALUNO,
        NUM_MATRICULA,
        DAT_NASCIMENTO,
        DAT_ENTRADA,
        DAT_SAIDA,
        DAT_COLACAO,
        DAT_PROVAO,
        DAT_DIPLOMA,
        IND_SEXO,
        IND_CANHOTO,
        NUM_CPF,
        NUM_CERT_MILITAR,
        NOM_ORGEXP_CM,
        DSC_SITUACAO_CM,
        DAT_EMISSAO_CM,
        NUM_TIT_ELEITOR,
        NUM_SECAO_TE,
        NUM_ZONA_TE,
        NUM_IDENTIDADE,
        DAT_EMISSAO,
        NOM_ORGEXP_CI,
        EML_ALUNO,
        TEL_CELULAR,
        NUM_PLACA,
        NOM_EMPRESA,
        VAL_RENDA_MENSAL,
        DAT_ADMISSAO,
        DSC_FUNCAO,
        VAL_SALDO,
        NUM_CREDITO,
        OBS_HISTORICO,
        OBS_ALUNO,
        NUM_PASTA,
        SEN_ALUNO,
        CODCONC,
        CODCAN,
        SGL_PREVISAO_FORMATURA,
        IND_CRACHA,
        IND_FORMANDO,
        COD_TPO_FORMATO,
        COD_QDR_VAGAS,
        DAT_VALIDADE_VAGA,
        IND_UNIFICACAO,
        IND_CALOURO,
        IND_REG_FINANCEIRO,
        IND_REG_ACADEMICO,
        IND_MOSTRA_WEB,
        COD_TPO_PROVA,
        COD_PERIODO_FORMATURA,
        COD_PAIS_NC,
        COD_PESSOA,
        IND_IMP_CUR_ORIGEM,
        COD_PLETIVO_OCORR,
        COD_TURMA,
        DAT_CADASTRO,
        NOM_ALUNO_INEP,
        COD_PERIODO_ENTRADA,
        IND_CONFERIDO,
        COD_CTR_CUSTO_CAMPUS,
        COD_COR_RACA,
        P_COD_INST_DESTINO,
        COD_TPO_ALUNO
        FROM DBSIAF.ALUNO ALN
        WHERE ALN.Cod_Pessoa = 843048
          AND ALN.COD_INSTITUICAO = P_COD_INST_ORIGEM;

    UPDATE DBSIAF.CAMPUS
       SET COD_CAMPUS_INTEGRADOR = P_ESTABELECIMENTO_DATASUL
     WHERE COD_INSTITUICAO = P_COD_INST_DESTINO;

    BEGIN
      DBSIAF.SP_MVIEWS_ESPECIE;
    END;
    
    -- Inserir Conta Corrente

    INSERT INTO DBSIAF.CONTA_CORRENTE
       (COD_CONTA_CORRENTE,
        COD_INSTITUICAO,
        COD_AG_BANCARIA,
        COD_TPO_CCORRENTE,
        DSC_CONTA_CORRENTE,
        NUM_CONTA_CORRENTE,
        NUM_CEDENTE,
        NUM_DIGITO_CONTA)
    SELECT DBSIAF.CONTA_CORRENTE_S.NEXTVAL,
        P_COD_INST_DESTINO,
        COD_AG_BANCARIA,
        COD_TPO_CCORRENTE,
        DSC_CONTA_CORRENTE,
        NUM_CONTA_CORRENTE,
        NUM_CEDENTE,
        NUM_DIGITO_CONTA
        FROM DBSIAF.CONTA_CORRENTE CC
        WHERE CC.COD_INSTITUICAO =  P_COD_INST_ORIGEM;


/*    -- Inserir Tipo Solicitacao Instituição  (LIMPEZA_BASE, REMANEJAMENTO)
    INSERT INTO DBSIAF.TIPO_SOLICITACAO_INSTITUICAO
        (COD_TPO_SOLICITACAO,
        COD_INSTITUICAO,
        COD_TPO_LANCAMENTO,
        COD_TPO_LANCAMENTO_DEV,
        IND_COBRANCA,
        VAL_TAXA,
        NUM_INI_COBRANCA,
        IDT_FORMA_COBRANCA,
        IND_INSERIR_BOLETA,
        IDT_INSERE_BOLETA,
        NUM_DIAS_VENC_BOLETA,
        COD_MODALIDADE,
        IND_COBRANCA_PL,
        IND_CONCLUI_SOL_PGTO,
        IND_VERIFICA_DEBITO,
        IND_ESCOLHA_ALUNO,
        IND_CONCLUI_AUTOMATICO,
        DAT_PRAZO,
        PRAZO_DILATACAO,
        IND_CAMPUS_SOLICITACAO,
        DAT_PRAZO_INI,
        IND_ALT_PERIODO)
    SELECT
        COD_TPO_SOLICITACAO,
        N_COD_INST_DESTINO,
        COD_TPO_LANCAMENTO,
        COD_TPO_LANCAMENTO_DEV,
        IND_COBRANCA,
        VAL_TAXA,
        NUM_INI_COBRANCA,
        IDT_FORMA_COBRANCA,
        IND_INSERIR_BOLETA,
        IDT_INSERE_BOLETA,
        NUM_DIAS_VENC_BOLETA,
        COD_MODALIDADE,
        IND_COBRANCA_PL,
        IND_CONCLUI_SOL_PGTO,
        IND_VERIFICA_DEBITO,
        IND_ESCOLHA_ALUNO,
        IND_CONCLUI_AUTOMATICO,
        DAT_PRAZO,
        PRAZO_DILATACAO,
        IND_CAMPUS_SOLICITACAO,
        DAT_PRAZO_INI,
        IND_ALT_PERIODO
        FROM DBSIAF.TIPO_SOLICITACAO_INSTITUICAO
        WHERE COD_INSTITUICAO = P_COD_INST_ORIGEM;*/

    -- inserir Config recalculo
    INSERT INTO DBSIAF.CONFIG_RECALCULO
        (COD_INSTITUICAO,
        COD_TPO_LANCAMENTO_DEV,
        COD_FORMA_RECALCULO_DEV,
        COD_TPO_CNF_RECALCULO_DEV,
        COD_TPO_LANCAMENTO_COB,
        COD_FORMA_RECALCULO_COB,
        COD_TPO_CNF_RECALCULO_COB,
        NUM_DIAS_VENC_BOLETO)
    SELECT
        P_COD_INST_DESTINO,
        COD_TPO_LANCAMENTO_DEV,
        COD_FORMA_RECALCULO_DEV,
        COD_TPO_CNF_RECALCULO_DEV,
        COD_TPO_LANCAMENTO_COB,
        COD_FORMA_RECALCULO_COB,
        COD_TPO_CNF_RECALCULO_COB,
        NUM_DIAS_VENC_BOLETO
        FROM DBSIAF.CONFIG_RECALCULO
        WHERE COD_INSTITUICAO = P_COD_INST_ORIGEM;


    -- Inserir SPC Fornecedor (CDL)
    INSERT INTO DBSIAF.SPC_FORNECEDOR
        (COD_SPC_FORNECEDOR,
        COD_INSTITUICAO,
        COD_FORNECEDOR,
        NUM_ASSOCIADO_SPC,
        NUM_CONVENIO_SPC,
        COD_MODALIDADE)
    SELECT
		    DBSIAF.SPC_FORNECEDOR_S.NEXTVAL,
        P_COD_INST_DESTINO,
        COD_FORNECEDOR,
        NUM_ASSOCIADO_SPC,
        NUM_CONVENIO_SPC,
        COD_MODALIDADE
        FROM DBSIAF.SPC_FORNECEDOR
        WHERE COD_INSTITUICAO = P_COD_INST_ORIGEM;


    -- Inserir Configuração para acordo calouro
    INSERT INTO DBSIAF.CONFIG_ACORDO_CALOURO
        (COD_ACO_CALOURO,
        COD_INSTITUICAO,
        COD_NIV_CURSO,
        COD_MODALIDADE,
        COD_SITUACAO_TITULO,
        NUM_DIA_DIFERENCA,
        IND_ACO_RESPONSAVEL,
        IND_EMAIL_ALUNO,
        IND_EMAIL_RESPONSAVEL,
        IND_EMAIL_FUNCIONARIO)
    SELECT
        DBSIAF.CONFIG_ACORDO_CALOURO_S.NEXTVAL,
        P_COD_INST_DESTINO,
        COD_NIV_CURSO,
        COD_MODALIDADE,
        COD_SITUACAO_TITULO,
        NUM_DIA_DIFERENCA,
        IND_ACO_RESPONSAVEL,
        IND_EMAIL_ALUNO,
        IND_EMAIL_RESPONSAVEL,
        IND_EMAIL_FUNCIONARIO
        FROM DBSIAF.CONFIG_ACORDO_CALOURO
        WHERE COD_INSTITUICAO = P_COD_INST_ORIGEM;

-----------------
    BEGIN
      SELECT NVL(NOM_LOGRADOURO,'-'),
             NVL(NOM_COMPLEMENTO,'-'),
             NVL(NOM_BAIRRO,'-'),
             NVL(CEP_ENDERECO,'-'),
             TEL_ENDERECO,
             NVL(CID.NOM_CIDADE,'-'),
             NVL(EST.SGL_ESTADO,'-'),
             NVL(PAIS.SGL_PAIS,'-')
        INTO S_NOM_LOGRADOURO,
             S_NOM_COMPLEMENTO,
             S_NOM_BAIRRO,
             S_CEP_ENDERECO,
             S_TEL_ENDERECO,
             S_NOM_CIDADE,
             S_SGL_ESTADO,
             S_SGL_PAIS
        FROM DBSIAF.END_INSTITUICAO ENDIES
         INNER JOIN DBSIAF.CIDADE CID ON CID.COD_CIDADE = ENDIES.COD_CIDADE
         INNER JOIN DBSIAF.ESTADO EST ON EST.COD_ESTADO = CID.COD_ESTADO
         INNER JOIN DBSIAF.PAIS PAIS ON PAIS.COD_PAIS = EST.COD_PAIS
      WHERE ENDIES.COD_INSTITUICAO = P_COD_INST_DESTINO;
    EXCEPTION
		  WHEN OTHERS THEN 
		     S_NOM_LOGRADOURO  := '-';
				 S_NOM_COMPLEMENTO := NULL;
				 S_NOM_BAIRRO      := NULL;
				 S_CEP_ENDERECO    := NULL;
				 S_TEL_ENDERECO    := NULL;
				 S_NOM_CIDADE      := NULL;
				 S_SGL_ESTADO      := NULL;
				 S_SGL_PAIS			   := NULL;
    END;


    INSERT INTO DBINTEGRACAO.PARAMETROS_INTEGRADOR(
        COD_INSTITUICAO,
        COD_PLANO_CTA_CTBL,
        COD_CTA_CTBL,
        COD_UNID_NEGOC,
        COD_TIP_FLUXO_FINANC,
        COD_PLANO_CUSTO,
        COD_CCUSTO,
        COD_CCUSTO_EXT,
        INI_COD_CLIENTE,
        COD_PAIS_NASC,
        COD_UNID_FEDERAC_NASC,
        COD_PORTADOR_CLIENTE,
        COD_REPRESENTANTE_CLIENTE,
        COD_CLIENTE_DNI,
        COD_CART_BCIA,
        COD_INSTITUICAO_INTEGRADOR,
        COD_TIP_TRANS_CX,
        COD_CENAR_CTBL,
        COD_HISTOR_PADR,
        COD_CTA_CONTABIL_DEV,
        CONTA_TRANS_CMG,
        CONTA_TRANS_DNI,
        COD_ALUNO_GLOBAL,
        COD_PESSOA_GLOBAL,
        COD_CTR_CUSTO_CAMPUS_VEST,
        COD_ITEM_NF,
        IND_GERA_NF,
        COD_GRP_FORNEC,
        COD_PORTADOR_FORNEC,
        COD_TIP_FLX_FINAC_FORNEC,
        NUM_DIAS_VENC_TIT,
        DAT_INI_CONTABILIZA,
        SIGLA_INSTITUICAO,
        NOM_ENDERECO_CLIENTE,
        NOM_COMPLEMENTO_CLIENTE,
        NOM_BAIRRO_CLIENTE,
        CEP_ENDERECO_CLIENTE,
        NOM_CIDADE_CLIENTE,
        SGL_ESTADO_CLIENTE,
        SGL_PAIS_CLIENTE,
        COD_CTR_CUSTO_CAMPUS_EAD)
    SELECT
        P_COD_INST_DESTINO,
        COD_PLANO_CTA_CTBL,
        COD_CTA_CTBL,
        COD_UNID_NEGOC, -- 'XXX'
        COD_TIP_FLUXO_FINANC,
        COD_PLANO_CUSTO,
        COD_CCUSTO,
        COD_CCUSTO_EXT,
        INI_COD_CLIENTE,
        COD_PAIS_NASC,
        COD_UNID_FEDERAC_NASC,
        COD_PORTADOR_CLIENTE,
        COD_REPRESENTANTE_CLIENTE,
        COD_CLIENTE_DNI,
        COD_CART_BCIA,
        COD_INSTITUICAO_INTEGRADOR, --'XXX',
        COD_TIP_TRANS_CX,
        COD_CENAR_CTBL,
        COD_HISTOR_PADR,
        COD_CTA_CONTABIL_DEV,
        CONTA_TRANS_CMG,
        CONTA_TRANS_DNI,
        NULL,
        COD_PESSOA_GLOBAL,
        COD_CTR_CUSTO_CAMPUS_VEST,
        COD_ITEM_NF,
        IND_GERA_NF,
        COD_GRP_FORNEC,
        COD_PORTADOR_FORNEC,
        COD_TIP_FLX_FINAC_FORNEC,
        NUM_DIAS_VENC_TIT,
        DAT_INI_CONTABILIZA,
        P_SGL_INST_ENDWEB_MINUSCULO,
        S_NOM_LOGRADOURO,  --NOM_ENDERECO_CLIENTE
        S_NOM_COMPLEMENTO, --NOM_COMPLEMENTO_CLIENTE
        S_NOM_BAIRRO,      --NOM_BAIRRO_CLIENTE
        S_CEP_ENDERECO,    --CEP_ENDERECO_CLIENTE
        S_NOM_CIDADE,      --NOM_CIDADE_CLIENTE
        S_SGL_ESTADO,      --SGL_ESTADO_CLIENTE
        S_SGL_PAIS,        --SGL_PAIS_CLIENTE,
        COD_CTR_CUSTO_CAMPUS_EAD
        FROM DBINTEGRACAO.PARAMETROS_INTEGRADOR PIN
        WHERE PIN.COD_INSTITUICAO = P_COD_INST_ORIGEM;


    --- Inserir pessoa_cliente_datasul
    INSERT INTO DBINTEGRACAO.PESSOA_CLIENTE_DATASUL
       (COD_INSTITUICAO,
        COD_PESSOA,
        COD_INSTITUICAO_INTEGRADOR,
        COD_CLIENTE,
        COD_CHAVE_INTEGRACAO,
        IND_INTEGRACAO)
    SELECT
        P_COD_INST_DESTINO,
        COD_PESSOA,
        COD_INSTITUICAO_INTEGRADOR,
        COD_CLIENTE,
        COD_CHAVE_INTEGRACAO,
        IND_INTEGRACAO
        FROM DBINTEGRACAO.PESSOA_CLIENTE_DATASUL DD
        WHERE DD.COD_PESSOA = 843048
         AND DD.COD_INSTITUICAO = P_COD_INST_ORIGEM;


    INSERT INTO DBSIAF.TIPO_ACORDO(
        COD_TPO_ACORDO,
        COD_INSTITUICAO,
        DSC_TPO_ACORDO,
        IND_COBRANCA,
        IND_GERAR_TITULO,
        COD_STA_TITULO,
        DIA_VENCIMENTO,
        IDT_VENC_UTIL_FIXO,
        DIA_PRORROGACAO,
        IDT_PROG_UTIL_FIXO,
        DIA_QUEBRA_ACORDO,
        IDT_QUEBRA_UTIL_FIXO,
        IND_PROCESSO_JUDICIAL)
    SELECT
        DBSIAF.TIPO_ACORDO_S.NEXTVAL,
        P_COD_INST_DESTINO,
        DSC_TPO_ACORDO,
        IND_COBRANCA,
        IND_GERAR_TITULO,
        COD_STA_TITULO,
        DIA_VENCIMENTO,
        IDT_VENC_UTIL_FIXO,
        DIA_PRORROGACAO,
        IDT_PROG_UTIL_FIXO,
        DIA_QUEBRA_ACORDO,
        IDT_QUEBRA_UTIL_FIXO,
        IND_PROCESSO_JUDICIAL
        FROM DBSIAF.TIPO_ACORDO TAC
        WHERE TAC.COD_INSTITUICAO = P_COD_INST_ORIGEM;

    INSERT INTO DBSIAF.GRP_TPO_RECEBIMENTO (
        COD_GRP_RECEBIMENTO,
        DSC_GRP_RECEBIMENTO,
        IND_DEPOSITO,
        IND_ENDOSSO,
        IND_COMPLEMENTAR,
        IND_ATIVO,
        IND_BANDEIRA,
        IND_WEB,
        IND_ENTRADA,
        IND_ENTRADA_DIF,
        COD_INSTITUICAO,
        IDT_RECEBIMENTO,
        IDT_BAIXA)
    SELECT
        DBSIAF.GRP_TPO_RECEBIMENTO_S.NEXTVAL,
        DSC_GRP_RECEBIMENTO,
        IND_DEPOSITO,
        IND_ENDOSSO,
        IND_COMPLEMENTAR,
        IND_ATIVO,
        IND_BANDEIRA,
        IND_WEB,
        IND_ENTRADA,
        IND_ENTRADA_DIF,
        P_COD_INST_DESTINO,
        IDT_RECEBIMENTO,
        IDT_BAIXA
        FROM DBSIAF.GRP_TPO_RECEBIMENTO G
        WHERE G.COD_INSTITUICAO = P_COD_INST_ORIGEM;


    INSERT INTO DBINTEGRACAO.CONFIG_APROPRIACAO(
        COD_CNF_APROPRIACAO,
        COD_INSTITUICAO,
        COD_MOVIMENTO,
        COD_NIV_CURSO,
        COD_PROGRAMA,
        COD_CAMPUS_POLO)
    SELECT
        DBINTEGRACAO.CONFIG_APROPRIACAO_S.NEXTVAL COD_CNF_APROPRIACAO,
        P_COD_INST_DESTINO COD_INSTITUICAO,
        CAP.COD_MOVIMENTO,
        CAP.COD_NIV_CURSO,
        CAP.COD_PROGRAMA,
        CAP.COD_CAMPUS_POLO
        FROM DBINTEGRACAO.CONFIG_APROPRIACAO CAP
        WHERE CAP.COD_INSTITUICAO = P_COD_INST_ORIGEM
          AND CAP.COD_CAMPUS_POLO IS NULL;


    INSERT INTO DBINTEGRACAO.CONFIG_REGRA_APROP(
        COD_CNF_REG_APROP,
        COD_CNF_APROPRIACAO,
        COD_TPO_PROCESSO,
        COD_TPO_OPERACAO,
        ESP_DATASUL,
        COD_PLANO_CTA_CTBL,
        COD_CTA_CONTABIL,
        IND_CENTRO_CUSTO,
        IND_EAD,
        IND_CONVENIO_COMPARTILHADO)
    SELECT
        DBINTEGRACAO.CONFIG_REGRA_APROP_S.NEXTVAL COD_CNF_REG_APROP,
        CAP2.COD_CNF_APROPRIACAO,
        CRA.COD_TPO_PROCESSO,
        CRA.COD_TPO_OPERACAO,
        CRA.ESP_DATASUL,
        CRA.COD_PLANO_CTA_CTBL,
        CRA.COD_CTA_CONTABIL,
        CRA.IND_CENTRO_CUSTO,
        CRA.IND_EAD,
        CRA.IND_CONVENIO_COMPARTILHADO
        FROM DBINTEGRACAO.CONFIG_REGRA_APROP CRA
              JOIN DBINTEGRACAO.CONFIG_APROPRIACAO CAP ON CRA.COD_CNF_APROPRIACAO = CAP.COD_CNF_APROPRIACAO AND CAP.COD_CAMPUS_POLO IS NULL
              JOIN DBINTEGRACAO.CONFIG_APROPRIACAO CAP2 ON (
                   CAP.COD_INSTITUICAO = P_COD_INST_ORIGEM
                   AND CAP2.COD_INSTITUICAO = P_COD_INST_DESTINO
                   AND CAP.COD_MOVIMENTO = CAP2.COD_MOVIMENTO
                   AND CAP.COD_NIV_CURSO = CAP2.COD_NIV_CURSO
                   AND NVL(CAP.COD_PROGRAMA,0) = NVL(CAP2.COD_PROGRAMA,0)
              ) ;

-- Não tem registros para UNA apenas IES - 8
/*    INSERT INTO DBSIAF.CONFIG_RECALCULO_DEP
        (COD_INSTITUICAO,
        COD_TPO_LANCAMENTO,
        COD_SIT_MATRICULA,
        VAL_PERC,
        VAL_LIMITE,
        NUM_PARC_INI_COB,
        COD_TPO_LANCAMENTO_RET,
        IND_ULTIMO_ANISTA)
    SELECT
        N_COD_INST_DESTINO, COD_INSTITUICAO,
        COD_TPO_LANCAMENTO,
        COD_SIT_MATRICULA,
        VAL_PERC,
        VAL_LIMITE,
        NUM_PARC_INI_COB,
        COD_TPO_LANCAMENTO_RET,
        IND_ULTIMO_ANISTA
      FROM DBSIAF.CONFIG_RECALCULO_DEP
      WHERE COD_INSTITUICAO = P_COD_INST_ORIGEM;*/


    insert into DBSIAF.CONFIG_VENC_TITULO(
        COD_CNF_VENCIMENTO,
        COD_INSTITUICAO,
        COD_NIV_CURSO,
        NUM_INI_PARCELA,
        NUM_FIM_PARCELA,
        DIA_VENCIMENTO,
        IDT_VENCIMENTO,
        DIA_PRORROGACAO,
        IDT_PRORROGACAO,
        NUM_MES_VALIDADE,
        DIA_APOS_VENCIMENTO,
        IDT_APOS_VENCIMENTO,
        NUM_DIAS_DIF_VENC,
        NUM_DIAS_PRAZO_MAT )
    SELECT
        dbsiaf.config_venc_titulo_s.nextval,
        P_COD_INST_DESTINO,
        COD_NIV_CURSO,
        NUM_INI_PARCELA,
        NUM_FIM_PARCELA,
        DIA_VENCIMENTO,
        IDT_VENCIMENTO,
        DIA_PRORROGACAO,
        IDT_PRORROGACAO,
        NUM_MES_VALIDADE,
        DIA_APOS_VENCIMENTO,
        IDT_APOS_VENCIMENTO,
        NUM_DIAS_DIF_VENC,
        NUM_DIAS_PRAZO_MAT
        FROM DBSIAF.CONFIG_VENC_TITULO
        WHERE COD_INSTITUICAO = P_COD_INST_ORIGEM;

    INSERT INTO DBSIAF.CONDICAO_PGTO
       (COD_COND_PGTO,DSC_COND_PGTO,IND_DEFAULT,IDT_COND_PGTO,IND_WEB,IND_ATIVO,COD_INSTITUICAO)
    SELECT
        DBSIAF.CONDICAO_PGTO_S.NEXTVAL,
        DSC_COND_PGTO,
        IND_DEFAULT,
        IDT_COND_PGTO,
        IND_WEB,IND_ATIVO,
        P_COD_INST_DESTINO
        FROM DBSIAF.CONDICAO_PGTO
        WHERE COD_INSTITUICAO = P_COD_INST_ORIGEM;

    INSERT INTO DBSIAF.GRUPO_MENSAGEM
       (COD_GRP_MENSAGEM,COD_TPO_GERACAO,DSC_GRP_MENSAGEM,IND_GRP_MENSAGEM,DAT_CADASTRO,COD_FUNCIONARIO,IDT_TPO_CANDIDATO,IND_ATIVO,COD_INSTITUICAO)
    select
        DBSIAF.GRUPO_MENSAGEM_S.NEXTVAL,
        COD_TPO_GERACAO,
        DSC_GRP_MENSAGEM,
        IND_GRP_MENSAGEM,
        DAT_CADASTRO,
        COD_FUNCIONARIO,
        IDT_TPO_CANDIDATO,
        IND_ATIVO,
        P_COD_INST_DESTINO
        FROM DBSIAF.GRUPO_MENSAGEM GME
        WHERE GME.COD_INSTITUICAO = P_COD_INST_ORIGEM;


    INSERT INTO DBSIAF.MENSAGEM_BOLETA(
        COD_GRP_MENSAGEM,
        COD_CAN_BOLETA,
        NUM_LINHA,
        TXT_MENSAGEM,
        DAT_CADASTRO,
        COD_FUNCIONARIO,
        COD_INSTITUICAO,
        IDT_CONDICIONADO_PGTO)
    SELECT
        GME2.COD_GRP_MENSAGEM,
        MBO.COD_CAN_BOLETA,
        MBO.NUM_LINHA,
        MBO.TXT_MENSAGEM,
        SYSDATE DAT_CADASTRO,
        F_BUSCA_FUNCIONARIO(user) COD_FUNCIONARIO,
        GME2.COD_INSTITUICAO,
        MBO.IDT_CONDICIONADO_PGTO
        FROM DBSIAF.MENSAGEM_BOLETA MBO
          JOIN DBSIAF.GRUPO_MENSAGEM GME ON MBO.COD_GRP_MENSAGEM = GME.COD_GRP_MENSAGEM
          JOIN DBSIAF.GRUPO_MENSAGEM GME2 ON GME.DSC_GRP_MENSAGEM = GME2.DSC_GRP_MENSAGEM AND GME.COD_TPO_GERACAO = GME2.COD_TPO_GERACAO
        WHERE
          GME.COD_INSTITUICAO = P_COD_INST_ORIGEM
          AND GME2.COD_INSTITUICAO = P_COD_INST_DESTINO
          AND NOT EXISTS(
                          SELECT 1
                            FROM DBSIAF.MENSAGEM_BOLETA MBO2
                           WHERE MBO2.COD_GRP_MENSAGEM = GME2.COD_GRP_MENSAGEM
                             AND MBO2.COD_CAN_BOLETA = MBO.COD_CAN_BOLETA
                             AND MBO2.NUM_LINHA = MBO.NUM_LINHA
                        );

    INSERT INTO DBSIAF.MSG_PADRAO_BOLETO
      (COD_MSG_PADRAO,
       DSC_MSG_PADRAO,
       COD_INSTITUICAO)
    SELECT DBSIAF.MSG_PADRAO_BOLETO_S.NEXTVAL,
           DSC_MSG_PADRAO,
           P_COD_INST_DESTINO
      FROM DBSIAF.MSG_PADRAO_BOLETO
      WHERE COD_INSTITUICAO = P_COD_INST_ORIGEM;

    INSERT INTO DBSIAF.MSG_PADRAO_GRUPO
       (COD_MSG_PADRAO,COD_GRP_MENSAGEM,COD_CAN_BOLETA)
    SELECT MPB.COD_MSG_PADRAO,
           GM2.COD_GRP_MENSAGEM,
           MPG.COD_CAN_BOLETA
      FROM DBSIAF.MSG_PADRAO_BOLETO MPB
        JOIN DBSIAF.MSG_PADRAO_BOLETO MPB2 ON MPB.DSC_MSG_PADRAO = MPB2.DSC_MSG_PADRAO AND MPB.COD_INSTITUICAO = P_COD_INST_DESTINO AND MPB2.COD_INSTITUICAO = P_COD_INST_ORIGEM
        JOIN DBSIAF.MSG_PADRAO_GRUPO MPG ON MPG.COD_MSG_PADRAO = MPB2.COD_MSG_PADRAO
        JOIN DBSIAF.GRUPO_MENSAGEM GM ON GM.COD_GRP_MENSAGEM = MPG.COD_GRP_MENSAGEM
        JOIN DBSIAF.GRUPO_MENSAGEM GM2 ON GM.DSC_GRP_MENSAGEM = GM2.DSC_GRP_MENSAGEM AND GM.COD_INSTITUICAO = P_COD_INST_ORIGEM AND GM2.COD_INSTITUICAO = P_COD_INST_DESTINO;

    INSERT INTO DBSIAF.MSG_PADRAO_TITULO
        (COD_MSG_TITULO,COD_MSG_PADRAO,COD_TPO_TITULO,IDT_PARCELA)
    SELECT DBSIAF.MSG_PADRAO_TITULO_S.NEXTVAL,
           MPB.COD_MSG_PADRAO,
           MPG.COD_TPO_TITULO,
           MPG.IDT_PARCELA
      FROM DBSIAF.MSG_PADRAO_BOLETO MPB
        JOIN DBSIAF.MSG_PADRAO_BOLETO MPB2 ON MPB.DSC_MSG_PADRAO = MPB2.DSC_MSG_PADRAO AND MPB.COD_INSTITUICAO = P_COD_INST_DESTINO AND MPB2.COD_INSTITUICAO = P_COD_INST_ORIGEM
        JOIN DBSIAF.MSG_PADRAO_TITULO MPG ON MPG.COD_MSG_PADRAO = MPB2.COD_MSG_PADRAO;

    INSERT INTO DBSIAF.MSG_PADRAO_PARCELA
        (COD_MSG_TITULO,NUM_PARCELA,IDT_ALUNO)
    SELECT MPG2.COD_MSG_TITULO,
           MPP.NUM_PARCELA,
           MPP.IDT_ALUNO
      FROM DBSIAF.MSG_PADRAO_BOLETO MPB
        JOIN DBSIAF.MSG_PADRAO_BOLETO MPB2 ON MPB.DSC_MSG_PADRAO = MPB2.DSC_MSG_PADRAO AND MPB.COD_INSTITUICAO = P_COD_INST_DESTINO AND MPB2.COD_INSTITUICAO = P_COD_INST_ORIGEM
        JOIN DBSIAF.MSG_PADRAO_TITULO MPG ON MPG.COD_MSG_PADRAO = MPB2.COD_MSG_PADRAO
        JOIN DBSIAF.MSG_PADRAO_TITULO MPG2 ON MPG2.COD_MSG_PADRAO = MPB.COD_MSG_PADRAO and MPG2.COD_TPO_TITULO = MPG.COD_TPO_TITULO
        JOIN DBSIAF.MSG_PADRAO_PARCELA MPP ON MPP.COD_MSG_TITULO = MPG.COD_MSG_TITULO;


    INSERT INTO DBSIAF.MSG_PADRAO_PERIODO
        (COD_MSG_PADRAO,COD_PERIODO_LETIVO)
    SELECT  DISTINCT MPB.COD_MSG_PADRAO, PLE.COD_PERIODO_LETIVO
      FROM DBSIAF.PERIODO_LETIVO PLE,
           DBSIAF.MSG_PADRAO_BOLETO MPB
        JOIN DBSIAF.MSG_PADRAO_BOLETO MPB2 ON MPB.DSC_MSG_PADRAO = MPB2.DSC_MSG_PADRAO AND MPB.COD_INSTITUICAO = P_COD_INST_DESTINO AND MPB2.COD_INSTITUICAO = P_COD_INST_ORIGEM
    WHERE PLE.COD_INSTITUICAO = P_COD_INST_DESTINO;


    INSERT INTO CONDICAO_PGTO_FORMA
       (COD_COND_PGTO,COD_GRP_RECEBIMENTO)
    SELECT distinct cpg2.cod_cond_pgto, g2.cod_grp_recebimento
      FROM DBSIAF.GRP_TPO_RECEBIMENTO G
        JOIN DBSIAF.GRP_TPO_RECEBIMENTO G2 ON G.DSC_GRP_RECEBIMENTO = G2.DSC_GRP_RECEBIMENTO
        JOIN CONDICAO_PGTO_FORMA CPF ON CPF.COD_GRP_RECEBIMENTO = G.COD_GRP_RECEBIMENTO
        JOIN CONDICAO_PGTO CPG ON CPG.COD_COND_PGTO = CPF.COD_COND_PGTO
        JOIN CONDICAO_PGTO CPG2 ON CPG.DSC_COND_PGTO = CPG2.DSC_COND_PGTO
    WHERE G2.COD_INSTITUICAO = P_COD_INST_DESTINO
      AND G.COD_INSTITUICAO = P_COD_INST_ORIGEM
      AND CPG.COD_INSTITUICAO = P_COD_INST_ORIGEM
      AND CPG2.COD_INSTITUICAO = P_COD_INST_DESTINO
      AND NOT EXISTS(SELECT 1
                       FROM CONDICAO_PGTO_FORMA A
                      WHERE A.COD_GRP_RECEBIMENTO = G2.COD_GRP_RECEBIMENTO
                        AND A.COD_COND_PGTO =  CPG2.COD_COND_PGTO
                     );

    INSERT INTO DBSIAF.PARCELAMENTO_BANDEIRA
      (COD_PARC_BANDEIRA,
       COD_BANDEIRA,
       NUM_PARC_INICIAL,
       NUM_PARC_FINAL,
       COD_INSTITUICAO,
       COD_ADM_CARTAO)
    SELECT DBSIAF.PARCELAMENTO_BANDEIRA_S.NEXTVAL, TAB.*
      FROM (SELECT DISTINCT COD_BANDEIRA,
                NUM_PARC_INICIAL,
                NUM_PARC_FINAL,
                P_COD_INST_DESTINO,
                COD_ADM_CARTAO
              FROM DBSIAF.PARCELAMENTO_BANDEIRA PB
             WHERE COD_INSTITUICAO = P_COD_INST_ORIGEM) TAB;


    INSERT INTO DBSIAF.ESPECIE_DATASUL
         (COD_GRP_RECEBIMENTO,
          ESP_DATASUL,
          COD_PARC_BANDEIRA,
          COD_PORTADOR,
          COD_CART_COBRANCA,
          COD_ESP_DATASUL)
    SELECT GR2.COD_GRP_RECEBIMENTO,
           EDS.ESP_DATASUL,
          (SELECT PB.COD_PARC_BANDEIRA
             FROM DBSIAF.PARCELAMENTO_BANDEIRA PB
            WHERE PB.COD_BANDEIRA = PBA.COD_BANDEIRA
              AND PB.NUM_PARC_INICIAL = PBA.NUM_PARC_INICIAL
              AND PB.NUM_PARC_FINAL = PBA.NUM_PARC_FINAL
              AND PB.COD_INSTITUICAO = GR2.COD_INSTITUICAO
           ) COD_PARC_BANDEIRA,
           EDS.COD_PORTADOR,
           EDS.COD_CART_COBRANCA,
           DBSIAF.ESPECIE_DATASUL_S.NEXTVAL COD_ESP_DATASUL
      FROM DBSIAF.ESPECIE_DATASUL EDS
        JOIN DBSIAF.GRP_TPO_RECEBIMENTO GR ON EDS.COD_GRP_RECEBIMENTO = GR.COD_GRP_RECEBIMENTO
        JOIN DBSIAF.GRP_TPO_RECEBIMENTO GR2 ON GR.DSC_GRP_RECEBIMENTO = GR2.DSC_GRP_RECEBIMENTO
        LEFT JOIN DBSIAF.PARCELAMENTO_BANDEIRA PBA ON PBA.COD_PARC_BANDEIRA = EDS.COD_PARC_BANDEIRA
     WHERE GR.COD_INSTITUICAO = P_COD_INST_ORIGEM
       AND GR2.COD_INSTITUICAO = P_COD_INST_DESTINO;

    INSERT INTO DBSIAF.TESOURARIA
       (COD_TESOURARIA,COD_CAMPUS,COD_FUNCIONARIO,DAT_ABERTURA,DSC_TESOURARIA,IND_WEB)
    VALUES(DBSIAF.TESOURARIA_S.NEXTVAL, P_COD_CAMPUS_DESTINO, F_BUSCA_FUNCIONARIO(user), SYSDATE, 'WEB','S');

    INSERT INTO DBSIAF.MAQUINA_TESOURARIA
       (COD_MAQ_TESOURARIA,
        COD_TESOURARIA,
        NUM_MAQUINA,
        NOM_MAQUINA,
        IND_ATIVO,
        COD_CONTA_CONTABIL)
    SELECT DBSIAF.MAQUINA_TESOURARIA_S.NEXTVAL,TES2.COD_TESOURARIA,NUM_MAQUINA,NOM_MAQUINA,IND_ATIVO,COD_CONTA_CONTABIL
      FROM DBSIAF.TESOURARIA A
        JOIN DBSIAF.MAQUINA_TESOURARIA MT ON A.COD_TESOURARIA = MT.COD_TESOURARIA
        JOIN DBSIAF.TESOURARIA TES2 ON TES2.COD_CAMPUS = P_COD_CAMPUS_DESTINO AND TES2.IND_WEB  = 'S'
     WHERE A.IND_WEB = 'S' AND A.COD_CAMPUS = 25;

    INSERT INTO DBSIAF.CAIXA
        (COD_CAIXA,
         COD_MAQ_TESOURARIA,
         COD_FUNCIONARIO,
         COD_STA_CAIXA,
         DAT_ABERTURA,
         NUM_CAIXA,
         DAT_FECHAMENTO,
         VAL_INICIAL,
         VAL_FECHAMENTO)
    SELECT DBSIAF.CAIXA_S.NEXTVAL COD_CAIXA,MT2.COD_MAQ_TESOURARIA,C.COD_FUNCIONARIO,C.COD_STA_CAIXA,C.DAT_ABERTURA,C.NUM_CAIXA,C.DAT_FECHAMENTO,C.VAL_INICIAL,C.VAL_FECHAMENTO
      FROM DBSIAF.CAIXA C
        JOIN DBSIAF.MAQUINA_TESOURARIA MT ON C.COD_MAQ_TESOURARIA = MT.COD_MAQ_TESOURARIA
        JOIN DBSIAF.TESOURARIA TES ON TES.COD_TESOURARIA = MT.COD_TESOURARIA,
        DBSIAF.MAQUINA_TESOURARIA MT2
          JOIN DBSIAF.TESOURARIA TES2 ON MT2.COD_TESOURARIA = TES2.COD_TESOURARIA
     WHERE TES.IND_WEB = 'S' AND TES.COD_CAMPUS = 25
       AND TES2.IND_WEB = 'S' AND TES2.COD_CAMPUS = P_COD_CAMPUS_DESTINO;

    INSERT INTO GRP_RECEB_LOCAL_PGTO
       (COD_GRP_RECEBIMENTO,COD_LOC_PAGAMENTO)
    SELECT GT2.COD_GRP_RECEBIMENTO,
           GRL.COD_LOC_PAGAMENTO
          -- GT.COD_INSTITUICAO
      FROM GRP_RECEB_LOCAL_PGTO GRL
        JOIN GRP_TPO_RECEBIMENTO GT ON GRL.COD_GRP_RECEBIMENTO = GT.COD_GRP_RECEBIMENTO
        JOIN GRP_TPO_RECEBIMENTO GT2 ON GT.DSC_GRP_RECEBIMENTO = GT2.DSC_GRP_RECEBIMENTO
     WHERE GT.COD_INSTITUICAO = P_COD_INST_ORIGEM
       AND GT.IND_ATIVO = 'S'
       AND GT2.IND_ATIVO = 'S'
       AND GT2.COD_INSTITUICAO = P_COD_INST_DESTINO
       AND NOT EXISTS(SELECT 1
                        FROM GRP_RECEB_LOCAL_PGTO G2
                       WHERE G2.COD_GRP_RECEBIMENTO = GT2.COD_GRP_RECEBIMENTO
                         AND G2.COD_LOC_PAGAMENTO =  GRL.COD_LOC_PAGAMENTO
                     );

    INSERT INTO DBSIAF.ESPECIE_DATASUL_SOLIC (
          COD_TPO_SOLICITACAO,
          COD_INSTITUICAO,
          COD_NIV_CURSO,
          COD_TPO_ESPECIE,
          ESP_DATASUL,
          USUARIO_TITULO,
          NUM_DIAS_VENC,
          COD_TIP_FLUXO_FINANC,
          COD_PLANO_CTA_CTBL,
          COD_CTA_CTBL,
          IND_USA_CENTRO_CUSTO,
          COD_PROGRAMA,
          IND_EAD
        )
    SELECT COD_TPO_SOLICITACAO,
           P_COD_INST_DESTINO COD_INSTITUICAO,
           COD_NIV_CURSO,
           COD_TPO_ESPECIE,
           ESP_DATASUL,
           USUARIO_TITULO,
           NUM_DIAS_VENC,
           COD_TIP_FLUXO_FINANC,
           COD_PLANO_CTA_CTBL,
           COD_CTA_CTBL,
            IND_USA_CENTRO_CUSTO,
           COD_PROGRAMA,
           IND_EAD
      FROM DBSIAF.ESPECIE_DATASUL_SOLIC E
        WHERE COD_INSTITUICAO = P_COD_INST_ORIGEM
          AND NOT EXISTS(SELECT 1
                           FROM DBSIAF.ESPECIE_DATASUL_SOLIC E2
                   WHERE E2.COD_TPO_SOLICITACAO = E.COD_TPO_SOLICITACAO
                         AND E2.COD_INSTITUICAO = P_COD_INST_DESTINO
                         AND E2.COD_NIV_CURSO = E.COD_NIV_CURSO
               )
               AND EXISTS(
                   SELECT 1
                   FROM DBSIAF.TIPO_SOLICITACAO_INSTITUICAO TSI
                   WHERE TSI.COD_TPO_SOLICITACAO = E.COD_TPO_SOLICITACAO
                         AND TSI.COD_INSTITUICAO = P_COD_INST_DESTINO
               );
 
-- --------------------------------------------------------------------------------
-- Parametros a serem cadastrados para a nova instiuição
-- --------------------------------------------------------------------------------

    -- Dados da Instituição
/*    SELECT TRIM(INE.SGL_INSTITUICAO),
           TRIM(LOWER(INE.SGL_INSTITUICAO))
      INTO S_SGL_INSTITUICAO,
           N_SGL_INST_MINUSCULO
      FROM DBSIAF.INSTITUICAO_ENSINO INE
     WHERE INE.COD_INSTITUICAO = P_COD_INST_DESTINO;*/


    -- URL_ALTERA_SENHA_ALUNO
    N_COD_TPO_PARAMETRO := 1;
    
    SELECT PAI.VAL_PARAMETRO
      INTO S_VAL_PARAMETRO
      FROM DBSIAF.PARAMETRO_INST PAI
      JOIN DBSIAF.TIPO_PARAMETRO_INST TPN ON (PAI.COD_TPO_PARAMETRO = TPN.COD_TPO_PARAMETRO)
      JOIN DBSIAF.INSTITUICAO_ENSINO INE ON (INE.COD_INSTITUICAO = PAI.COD_INSTITUICAO)
     WHERE PAI.Cod_Tpo_Parametro = N_COD_TPO_PARAMETRO
       AND PAI.COD_INSTITUICAO = P_COD_INST_ORIGEM;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO, S_VAL_PARAMETRO);
    END IF;


    -- URL_ALTERA_SENHA_PROFESSOR
    N_COD_TPO_PARAMETRO := 2;

    
    SELECT PAI.VAL_PARAMETRO
      INTO S_VAL_PARAMETRO
      FROM DBSIAF.PARAMETRO_INST PAI
      JOIN DBSIAF.TIPO_PARAMETRO_INST TPN ON (PAI.COD_TPO_PARAMETRO = TPN.COD_TPO_PARAMETRO)
      JOIN DBSIAF.INSTITUICAO_ENSINO INE ON (INE.COD_INSTITUICAO = PAI.COD_INSTITUICAO)
     WHERE PAI.Cod_Tpo_Parametro = N_COD_TPO_PARAMETRO
       AND PAI.COD_INSTITUICAO = P_COD_INST_ORIGEM;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO, S_VAL_PARAMETRO);
    END IF;


    -- OBRIGA_SUBSTITUICAO_AVALIACAO_ESPECIAL
    N_COD_TPO_PARAMETRO := 4;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'S');
    END IF;

    -- URL_IMAGEM_EMAILS
    N_COD_TPO_PARAMETRO := 5;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://web.animaeducacao.com.br/img/logos/logo_' || P_SGL_INST_ENDWEB_MINUSCULO ||'.gif');
    END IF;

    -- URL_IMG_MARCA_DAGUA
    N_COD_TPO_PARAMETRO := 11;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://web.animaeducacao.com.br/img/marca_dagua/marca_dagua_' || P_SGL_INST_ENDWEB_MINUSCULO ||'.jpg');
    END IF;

    -- URL_SOL
    N_COD_TPO_PARAMETRO := 29;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'https://aluno.'||P_SGL_INST_ENDWEB_MINUSCULO||'.br/SOL/aluno/index.php/index/seguranca/dev/instituicao/' || P_COD_INST_DESTINO);
    END IF;

    -- ACORDO_ONLINE_URL_TOKEN
    N_COD_TPO_PARAMETRO := 34;

        
    SELECT PAI.VAL_PARAMETRO
      INTO S_VAL_PARAMETRO
      FROM DBSIAF.PARAMETRO_INST PAI
      JOIN DBSIAF.TIPO_PARAMETRO_INST TPN ON (PAI.COD_TPO_PARAMETRO = TPN.COD_TPO_PARAMETRO)
      JOIN DBSIAF.INSTITUICAO_ENSINO INE ON (INE.COD_INSTITUICAO = PAI.COD_INSTITUICAO)
     WHERE PAI.Cod_Tpo_Parametro = N_COD_TPO_PARAMETRO
       AND PAI.COD_INSTITUICAO = P_COD_INST_ORIGEM;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO, S_VAL_PARAMETRO);
    END IF;

    -- URL_GERACAO_TOKEN_ALUNO
    N_COD_TPO_PARAMETRO := 40;

    
    SELECT PAI.VAL_PARAMETRO
      INTO S_VAL_PARAMETRO
      FROM DBSIAF.PARAMETRO_INST PAI
      JOIN DBSIAF.TIPO_PARAMETRO_INST TPN ON (PAI.COD_TPO_PARAMETRO = TPN.COD_TPO_PARAMETRO)
      JOIN DBSIAF.INSTITUICAO_ENSINO INE ON (INE.COD_INSTITUICAO = PAI.COD_INSTITUICAO)
     WHERE PAI.Cod_Tpo_Parametro = N_COD_TPO_PARAMETRO
       AND PAI.COD_INSTITUICAO = P_COD_INST_ORIGEM;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO, S_VAL_PARAMETRO);
    END IF;

     -- BOLSA_CONVENIOS_URL_ACESSO
    N_COD_TPO_PARAMETRO := 44;

        
    SELECT PAI.VAL_PARAMETRO
      INTO S_VAL_PARAMETRO
      FROM DBSIAF.PARAMETRO_INST PAI
      JOIN DBSIAF.TIPO_PARAMETRO_INST TPN ON (PAI.COD_TPO_PARAMETRO = TPN.COD_TPO_PARAMETRO)
      JOIN DBSIAF.INSTITUICAO_ENSINO INE ON (INE.COD_INSTITUICAO = PAI.COD_INSTITUICAO)
     WHERE PAI.Cod_Tpo_Parametro = N_COD_TPO_PARAMETRO
       AND PAI.COD_INSTITUICAO = P_COD_INST_ORIGEM;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO, S_VAL_PARAMETRO);
    END IF;

    -- AVAL_INSTITUCIONAL_DEVOLUTIVA_URL
    N_COD_TPO_PARAMETRO := 45;

        
    SELECT PAI.VAL_PARAMETRO
      INTO S_VAL_PARAMETRO
      FROM DBSIAF.PARAMETRO_INST PAI
      JOIN DBSIAF.TIPO_PARAMETRO_INST TPN ON (PAI.COD_TPO_PARAMETRO = TPN.COD_TPO_PARAMETRO)
      JOIN DBSIAF.INSTITUICAO_ENSINO INE ON (INE.COD_INSTITUICAO = PAI.COD_INSTITUICAO)
     WHERE PAI.Cod_Tpo_Parametro = N_COD_TPO_PARAMETRO
       AND PAI.COD_INSTITUICAO = P_COD_INST_ORIGEM;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO, S_VAL_PARAMETRO);
    END IF;

    -- AVAL_INSTITUCIONAL_DEVOLUTIVA_CHAVE
    N_COD_TPO_PARAMETRO := 46;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'Sh4mira');
    END IF;

    -- INSTITUICAO_ATIVA
    N_COD_TPO_PARAMETRO := 47;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'S');
    END IF;

    -- URL_DISCIPLINA_EAD
    N_COD_TPO_PARAMETRO := 60;

        
    SELECT PAI.VAL_PARAMETRO
      INTO S_VAL_PARAMETRO
      FROM DBSIAF.PARAMETRO_INST PAI
      JOIN DBSIAF.TIPO_PARAMETRO_INST TPN ON (PAI.COD_TPO_PARAMETRO = TPN.COD_TPO_PARAMETRO)
      JOIN DBSIAF.INSTITUICAO_ENSINO INE ON (INE.COD_INSTITUICAO = PAI.COD_INSTITUICAO)
     WHERE PAI.Cod_Tpo_Parametro = N_COD_TPO_PARAMETRO
       AND PAI.COD_INSTITUICAO = P_COD_INST_ORIGEM;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO, S_VAL_PARAMETRO);
    END IF;

    -- URL_BIBLIOTECA_CONSULTA
    N_COD_TPO_PARAMETRO := 61;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://biblioteca.' || P_SGL_INST_ENDWEB_MINUSCULO ||'.br/pergamum/biblioteca/index.php');
    END IF;

    -- URL_BIBLIOTECA_RENOVACAO
    N_COD_TPO_PARAMETRO := 62;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://biblioteca.' || P_SGL_INST_ENDWEB_MINUSCULO ||'.br/pergamum/biblioteca_s/php/login_usu.php?flag=index.php');
    END IF;

    -- MARCA_DAGUA_INST
    N_COD_TPO_PARAMETRO := 63;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'marca_dagua_'||P_SGL_INST_ENDWEB_MINUSCULO||'.bmp');
    END IF;

    -- TELEFONE_INSTITUICAO
    N_COD_TPO_PARAMETRO := 64;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,S_TEL_ENDERECO);
    END IF;

    -- URL_SOL_INGRESSANTE
    N_COD_TPO_PARAMETRO := 65;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'https://aluno.' || P_SGL_INST_ENDWEB_MINUSCULO ||'.br/SOL/aluno/index.php/index/seguranca/dev/instituicao/' || P_COD_INST_DESTINO || '/acesso/pre');
    END IF;

    /*
    -- COD_MODALIDADE_SPC
    N_COD_TPO_PARAMETRO := 66;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'000');
    END IF;
    */

    -- URL_RECUPERA_SENHA_ALUNO
    N_COD_TPO_PARAMETRO := 67;

        
    SELECT PAI.VAL_PARAMETRO
      INTO S_VAL_PARAMETRO
      FROM DBSIAF.PARAMETRO_INST PAI
      JOIN DBSIAF.TIPO_PARAMETRO_INST TPN ON (PAI.COD_TPO_PARAMETRO = TPN.COD_TPO_PARAMETRO)
      JOIN DBSIAF.INSTITUICAO_ENSINO INE ON (INE.COD_INSTITUICAO = PAI.COD_INSTITUICAO)
     WHERE PAI.Cod_Tpo_Parametro = N_COD_TPO_PARAMETRO
       AND PAI.COD_INSTITUICAO = P_COD_INST_ORIGEM;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO, S_VAL_PARAMETRO);
    END IF;

    -- EAD_ALUNO_URL_GUIA
    N_COD_TPO_PARAMETRO := 70;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://nucleoead.com.br/guia/?uid={uid}'||'&'||'pid={pid}'||'&'||'Token={Token}');
    END IF;

    -- EAD_ALUNO_URL_CONTEUDO
    N_COD_TPO_PARAMETRO := 71;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://nucleoead.com.br/?uid={uid}'||'&'||'pid={pid}'||'&'||'Token={Token}');
    END IF;

    -- EAD_ALUNO_URL_AJUDA
    N_COD_TPO_PARAMETRO := 72;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://ead.' || P_SGL_INST_ENDWEB_MINUSCULO ||'.br/ajuda/?uid={uid}'||'&'||'pid={pid}'||'&'||'Token={Token}');
    END IF;

    -- EAD_PROFESSOR_GUIA_URL_TOKEN
    N_COD_TPO_PARAMETRO := 73;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://nucleoead.com.br/guia/?uid={uid}'||'&'||'pid={pid}'||'&'||'Token={Token}');
    END IF;

    -- EAD_PROFESSOR_CONTEUDO_URL_TOKEN
    N_COD_TPO_PARAMETRO := 74;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://nucleoead.com.br/?uid={uid}'||'&'||'pid={pid}'||'&'||'Token={Token}');
    END IF;

    -- EAD_PROFESSOR_AJUDA_URL_TOKEN
    N_COD_TPO_PARAMETRO := 75;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://nucleoead.com.br/ajuda/?uid={uid}'||'&'||'pid={pid}'||'&'||'Token={Token}');
    END IF;

    -- URL_SOL_EGRESSO
    N_COD_TPO_PARAMETRO := 77;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      -- VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://egresso.' || S_SGL_MIN_INSTITUICAO ||'.br');
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'https://aluno.'||P_SGL_INST_ENDWEB_MINUSCULO||'.br/SOL/aluno/index.php/index/seguranca/dev/instituicao/8/acesso/ex');
    END IF;

    /*
    -- ATUALIZA_STATUS_PROFESSOR_AUTOMATICO
    N_COD_TPO_PARAMETRO := 78;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'S');
    END IF;
    */

    -- MSG_ALTERACAO_PLANO_AULA
    N_COD_TPO_PARAMETRO := 79;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'
            <style type="text/css">
            <!--
              div#corpo, h2{
                margin: 0 20px;
              }
            -->
            </style>
          <div id="corpo">
              <p>Prezado(a) {NOMCOORDENADOR},</p>
              <p>Informamos que o professor(a) <strong>{NOMPROFESSOR}</strong> realizou alterações no plano de aula da disciplina <strong>{NOMDISCIPLINA}</strong> da turma <strong>{IDTTURMA}</strong> do curso de <strong>{NOMCURSO}</strong> do período letivo <strong>{SGLPERIODOLETIVO}</strong>.</p>
              <p>Obs.: <i>Esta mensagem foi enviada automaticamente pelo Sistema SOL Professor. FAVOR NÃO RESPONDER.</i></p>
          </div>');
    END IF;

    -- SGD_URL
    N_COD_TPO_PARAMETRO := 82;

        
    SELECT PAI.VAL_PARAMETRO
      INTO S_VAL_PARAMETRO
      FROM DBSIAF.PARAMETRO_INST PAI
      JOIN DBSIAF.TIPO_PARAMETRO_INST TPN ON (PAI.COD_TPO_PARAMETRO = TPN.COD_TPO_PARAMETRO)
      JOIN DBSIAF.INSTITUICAO_ENSINO INE ON (INE.COD_INSTITUICAO = PAI.COD_INSTITUICAO)
     WHERE PAI.Cod_Tpo_Parametro = N_COD_TPO_PARAMETRO
       AND PAI.COD_INSTITUICAO = P_COD_INST_ORIGEM;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO, S_VAL_PARAMETRO);
    END IF;

    /*
    -- RODAR PÓS-MIGRAÇÃO
    -- COD_PROFESSOR_CONTRATAR
    N_COD_TPO_PARAMETRO := 83;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'0');
    END IF;
    */

    -- MATRICULA_COMPULSORIA
    N_COD_TPO_PARAMETRO := 86;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'5');
    END IF;

    -- DOMINIO_INSTITUICAO
    N_COD_TPO_PARAMETRO := 87;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,P_SGL_INST_ENDWEB_MINUSCULO||'.edu.br');
    END IF;

    -- INTRANET_URL
    N_COD_TPO_PARAMETRO := 88;
        
    SELECT PAI.VAL_PARAMETRO
      INTO S_VAL_PARAMETRO
      FROM DBSIAF.PARAMETRO_INST PAI
      JOIN DBSIAF.TIPO_PARAMETRO_INST TPN ON (PAI.COD_TPO_PARAMETRO = TPN.COD_TPO_PARAMETRO)
      JOIN DBSIAF.INSTITUICAO_ENSINO INE ON (INE.COD_INSTITUICAO = PAI.COD_INSTITUICAO)
     WHERE PAI.Cod_Tpo_Parametro = N_COD_TPO_PARAMETRO
       AND PAI.COD_INSTITUICAO = P_COD_INST_ORIGEM;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO, S_VAL_PARAMETRO);
    END IF;

    /*
    -- VERIFICAR NANDE
    -- URL_PORTAL_RH
    N_COD_TPO_PARAMETRO := 91;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'https://web.rhbuildup.com.br/RHOnline_usjt/');
    END IF;
    */

    -- EAD_ALUNO_URL_APOIO_PRESENCIAL
    N_COD_TPO_PARAMETRO := 92;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://nucleoead.com.br/?uid={uid}'||'&'||'pid=A' || P_COD_INST_DESTINO || '&'||'Token={Token}');
    END IF;

    -- EAD_ALUNO_URL_DISCIPLINAS_DISTANCIA
    N_COD_TPO_PARAMETRO := 93;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://nucleoead.com.br/?uid={uid}'||'&'||'pid=D' || P_COD_INST_DESTINO || '&'||'Token={Token}');
    END IF;

    -- EAD_ALUNO_URL_NIVELAMENTO
    N_COD_TPO_PARAMETRO := 94;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://nucleoead.com.br/?uid={uid}'||'&'||'pid=N' || P_COD_INST_DESTINO || '&'||'Token={Token}');
    END IF;

    -- ACORDO_ONLINE_URL_TOKEN_TESTE
    N_COD_TPO_PARAMETRO := 95;
            
    SELECT PAI.VAL_PARAMETRO
      INTO S_VAL_PARAMETRO
      FROM DBSIAF.PARAMETRO_INST PAI
      JOIN DBSIAF.TIPO_PARAMETRO_INST TPN ON (PAI.COD_TPO_PARAMETRO = TPN.COD_TPO_PARAMETRO)
      JOIN DBSIAF.INSTITUICAO_ENSINO INE ON (INE.COD_INSTITUICAO = PAI.COD_INSTITUICAO)
     WHERE PAI.Cod_Tpo_Parametro = N_COD_TPO_PARAMETRO
       AND PAI.COD_INSTITUICAO = P_COD_INST_ORIGEM;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO, S_VAL_PARAMETRO);
    END IF;

    -- ALTERAR_PROFESSOR_POS
    N_COD_TPO_PARAMETRO := 96;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'S');
    END IF;

    -- VERIFICAR_USO_HORARIO_POS
    N_COD_TPO_PARAMETRO := 97;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'N');
    END IF;

    /*
    -- DIAS_FECHA_DIARIO
    N_COD_TPO_PARAMETRO := 98;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'20');
    END IF;
    */

    -- URL_BIBLIOTECA_BASE_CENGAGE
    N_COD_TPO_PARAMETRO := 100;

        
    SELECT PAI.VAL_PARAMETRO
      INTO S_VAL_PARAMETRO
      FROM DBSIAF.PARAMETRO_INST PAI
      JOIN DBSIAF.TIPO_PARAMETRO_INST TPN ON (PAI.COD_TPO_PARAMETRO = TPN.COD_TPO_PARAMETRO)
      JOIN DBSIAF.INSTITUICAO_ENSINO INE ON (INE.COD_INSTITUICAO = PAI.COD_INSTITUICAO)
     WHERE PAI.Cod_Tpo_Parametro = N_COD_TPO_PARAMETRO
       AND PAI.COD_INSTITUICAO = P_COD_INST_ORIGEM;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO, S_VAL_PARAMETRO);
    END IF;

    -- SIMULADO_ENADE
    N_COD_TPO_PARAMETRO := 101;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://treinamentoead.animaeducacao.com.br/?uid={uid}'||'&'||'pid={pid}'||'&'||'Token={Token}');
    END IF;

    -- PRAZO_ABANDONO_ALUNO_POS_MONOG
    N_COD_TPO_PARAMETRO := 103;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'7');
    END IF;

    -- PRAZO_ABANDONO_ALUNO_POS_SEM_MONOG
    N_COD_TPO_PARAMETRO := 104;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'3');
    END IF;

    /*
    -- VERIFICAR NANDE
    -- DSC_SENHA_SOL
    N_COD_TPO_PARAMETRO := 105;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'Texto');
    END IF;
    */

    -- PROFESSOR_LANCA_NOTAS_DIAS_TOLERANCIA
    N_COD_TPO_PARAMETRO := 106;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'7');
    END IF;

    -- PROFESSOR_LANCA_FALTA_DIA_PENDENCIA
    N_COD_TPO_PARAMETRO := 107;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'10');
    END IF;

    -- NUM_DIAS_PRAZO_PAG_INST
    N_COD_TPO_PARAMETRO := 108;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'30');
    END IF;

    -- DAT_IMP_ALU_VESTIB
    N_COD_TPO_PARAMETRO := 109;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'10');
    END IF;

    -- COD_TPO_DOCUMENTO_FANTASMA
    N_COD_TPO_PARAMETRO := 110;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'231');
    END IF;

    -- COD_TPO_LIBERACAO_FANTASMA
    N_COD_TPO_PARAMETRO := 111;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'68');
    END IF;

    -- NUM_DIAS_LIB_FANTASMA
    N_COD_TPO_PARAMETRO := 112;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'30');
    END IF;

    -- NUM_DIAS_LIBERACAO_CONTINUA
    N_COD_TPO_PARAMETRO := 113;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'15');
    END IF;

    /*
    -- COD_PROFESSOR_AUTONOMOS
    N_COD_TPO_PARAMETRO := 118;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'0');
    END IF;
    */

    /*
    -- CAMPUS_EAD_GERAL
    N_COD_TPO_PARAMETRO := 119;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'0');
    END IF;
    */

    -- DOTPROJECTDP_ALTERAR_DADOS_COD_PROJETO
    N_COD_TPO_PARAMETRO := 120;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'18');
    END IF;

    -- DOTPROJECTDP_ALTERAR_DADOS_COD_TAREFA
    N_COD_TPO_PARAMETRO := 121;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'176');
    END IF;

    -- DOTPROJECTDP_ALTERAR_DADOS_DSC_ASSUNTO
    N_COD_TPO_PARAMETRO := 122;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'Alteração dos dados pessoais');
    END IF;

    -- DOTPROJECTDP_ALTERAR_DADOS_DSC_CORPO
    N_COD_TPO_PARAMETRO := 123;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'Prezados, favor atualizar os seguintes dados:

  Nome: {0}
  CPF: {1}
  Sexo: {2}
  Data de Nascimento:  {3}
  Nome do Pai: {4}
  Nome da Mãe: {5}
  Raça: {6}
  Cidade Nascimento: {7}
  Estado Nascimento: {8}
  Nacionalidade: {9}
  Número do PIS: {10}
  Necessidade Especial: {11}');
    END IF;

    /*
    -- HABILITA_IMPRESSORA_BEMATECH
    N_COD_TPO_PARAMETRO := 124;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'N');
    END IF;
    */

    -- DSC_TPO_INSTITUICAO
    N_COD_TPO_PARAMETRO := 129;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'Universidade');
    END IF;

    -- DOTPROJECTDP_ALTERAR_CARGO_COD_PROJETO
    N_COD_TPO_PARAMETRO := 130;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'18');
    END IF;

    -- DOTPROJECTDP_ALTERAR_CARGO_COD_TAREFA
    N_COD_TPO_PARAMETRO := 131;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'176');
    END IF;

    -- DOTPROJECTDP_ALTERAR_CARGO_DSC_ASSUNTO
    N_COD_TPO_PARAMETRO := 132;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'{0} - Alteração de Cargo Docente/SGD - {1} - {2}');
    END IF;

    -- DOTPROJECTDP_ALTERAR_CARGO_DSC_CORPO
    N_COD_TPO_PARAMETRO := 133;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'Favor realizar a alteração de cargo de acordo com os dados abaixo:
  - Ies: {0}.
  - Matricula: {1}.
  - CPF: {2}.
  - Nome: {3}
  - Modificar cargo de "{4}" para "{5}".
  - Nova Formação Acadêmica máxima: {6}.
  - Realizar alteração a partir de: {7}.
  - Solicitante: {8}.
  - Data da solicitação: {9}.');
    END IF;

    -- PERMITE_ARREDONDAMENTO_NOTA
    N_COD_TPO_PARAMETRO := 134;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'N');
    END IF;

    -- DIAS_FECHA_DIARIO_EXTENSAO
    N_COD_TPO_PARAMETRO := 137;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'5');
    END IF;

    /*
    -- INFORMACAO_MATRICULA
    N_COD_TPO_PARAMETRO := 139;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'0');
    END IF;
    */

    /*
    -- IND_LIBERA_EAD
    N_COD_TPO_PARAMETRO := 140;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'N');
    END IF;
    */

    -- EAD_ALUNO_URL_TREINAMENTO
    N_COD_TPO_PARAMETRO := 141;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://nucleoead.com.br/?uid={uid}'||'&'||'pid=T' || P_COD_INST_DESTINO || '&'||'Token={Token}');
    END IF;

    /*
    -- PROTOCOLO_CORRIGE_FALTA
    N_COD_TPO_PARAMETRO := 143;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'1548');
    END IF;
    */

    /*
    -- DIAS_PROTOCOLO_CORRIGE_FALTA
    N_COD_TPO_PARAMETRO := 144;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'10');
    END IF;
    */

    -- NOTA_MIN_MONOGRAFIA
    N_COD_TPO_PARAMETRO := 145;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'6');
    END IF;

    -- DIA_MIN_ALERTA_FREQ_ALUNO_PRONATEC
    N_COD_TPO_PARAMETRO := 146;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'15');
    END IF;

    -- DIA_MAX_ALERTA_FREQ_ALUNO_PRONATEC
    N_COD_TPO_PARAMETRO := 147;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'25');
    END IF;

    -- DIAS_FECHA_DIARIO_PRONATEC
    N_COD_TPO_PARAMETRO := 149;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'5');
    END IF;

    /*
    -- GESTAO_DESEMPENHO_ANIMA_URL
    N_COD_TPO_PARAMETRO := 150;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'https://hcm.serhcm.com.br/ANIMA/HCM_ANIMA/Logon.aspx?ReturnUrl=%2fanima%2fhcm_anima%2f');
    END IF;
    */

    -- DATA_INICIAL_RESTRICAO_MENU_SOLIC_WEB
    N_COD_TPO_PARAMETRO := 153;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'20/12/2014');
    END IF;

    -- DATA_FINAL_RESTRICAO_MENU_SOLIC_WEB
    N_COD_TPO_PARAMETRO := 154;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'06/01/2015');
    END IF;

    -- BOLETO_MENSALIDADE_URL_TOKEN
    N_COD_TPO_PARAMETRO := 156;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'https://aluno.' || P_SGL_INST_ENDWEB_MINUSCULO ||'.br/SOL/aluno/index.php/financeiro/boleto/imprimir/TOKEN/V_TOKEN/CODTITULORECEBER/V_CODTITULORECEBER');
    END IF;

    -- DECLARACAO_PAGTO_URL_TOKEN
    N_COD_TPO_PARAMETRO := 157;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'https://aluno.' || P_SGL_INST_ENDWEB_MINUSCULO ||'.br/SOL/aluno/index.php/solicitacao/documento/imprimir/TOKEN/V_TOKEN/CODSOLICITACAO/V_CODSOLICITACAO');
    END IF;

    -- NOTAFISCAL_URL_TOKEN
    N_COD_TPO_PARAMETRO := 158;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'https://aluno.' || P_SGL_INST_ENDWEB_MINUSCULO ||'.br/SOL/aluno/index.php/financeiro/extrato/notafiscal/TOKEN/V_TOKEN/CODTITULORECEBER/V_CODTITULORECEBER/SGLINST/V_SGLINST');
    END IF;

    -- BOLETO_MENSALIDADE_URL_TOKEN_TESTE
    N_COD_TPO_PARAMETRO := 159;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'https://desenv.animaeducacao.com.br/SOL/aluno/index.php/financeiro/boleto/imprimir/TOKEN/V_TOKEN/CODTITULORECEBER/V_CODTITULORECEBER');
    END IF;

    -- DECLARACAO_PAGTO_URL_TOKEN_TESTE
    N_COD_TPO_PARAMETRO := 160;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'https://desenv.animaeducacao.com.br/SOL/aluno/index.php/solicitacao/documento/imprimir/TOKEN/V_TOKEN/CODSOLICITACAO/V_CODSOLICITACAO');
    END IF;

    -- NOTAFISCAL_URL_TOKEN_TESTE
    N_COD_TPO_PARAMETRO := 161;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'https://desenv.animaeducacao.com.br/SOL/aluno/index.php/financeiro/extrato/notafiscal/TOKEN/V_TOKEN/CODTITULORECEBER/V_CODTITULORECEBER/SGLINST/V_SGLINST');
    END IF;

    -- EAD_UNA_VIRTUAL
    N_COD_TPO_PARAMETRO := 162;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://nucleoead.com.br/?uid={uid}'||'&'||'pid=V' || P_COD_INST_DESTINO || '&'||'Token={Token}');
    END IF;

    -- ACORDO_ONLINE_ADM_CARTAO
    N_COD_TPO_PARAMETRO := 163;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'REDCR');
    END IF;

    -- USUARIO_PAGAMENTO_ONLINE
    N_COD_TPO_PARAMETRO := 164;
    
    SELECT PAI.VAL_PARAMETRO
      INTO S_VAL_PARAMETRO
      FROM DBSIAF.PARAMETRO_INST PAI
      JOIN DBSIAF.TIPO_PARAMETRO_INST TPN ON (PAI.COD_TPO_PARAMETRO = TPN.COD_TPO_PARAMETRO)
      JOIN DBSIAF.INSTITUICAO_ENSINO INE ON (INE.COD_INSTITUICAO = PAI.COD_INSTITUICAO)
     WHERE PAI.Cod_Tpo_Parametro = N_COD_TPO_PARAMETRO
       AND PAI.COD_INSTITUICAO = P_COD_INST_ORIGEM;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO, S_VAL_PARAMETRO);
    END IF;

    -- TPO_SOLICITACAO_ADAPTI
    N_COD_TPO_PARAMETRO := 166;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'1642');
    END IF;

    -- PARAM_ACESSO_VAGAS_COM
    N_COD_TPO_PARAMETRO := 167;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'VALOR A DEFINIR');
    END IF;

    -- URL_VAGAS_COM
    N_COD_TPO_PARAMETRO := 168;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'VALOR A DEFINIR');
    END IF;

    -- EAD_ALUNO_URL_ADAPTI_CONCLUINTE
    N_COD_TPO_PARAMETRO := 170;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://anima.appprova.com.br');
    END IF;

    -- URL_PROG_MERITO_DOCENTE
    N_COD_TPO_PARAMETRO := 171;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'http://www.' || P_SGL_INST_ENDWEB_MINUSCULO ||'.br/meritodocente');
    END IF;

    -- URL_COMPROVANTE_VESTIB
    N_COD_TPO_PARAMETRO := 172;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO,'https://inscricao.' || P_SGL_INST_ENDWEB_MINUSCULO ||'.br/VESTIB/codigoFonte/vestibular/index.php/comprovante/index/index/codigo/');
    END IF;

    -- TELEFONE_HELPDESK
    N_COD_TPO_PARAMETRO := 173;

    IF DBSIAF.F_BUSCA_VAL_PARAMETRO(P_COD_INST_DESTINO,N_COD_TPO_PARAMETRO) IS NULL THEN
      INSERT INTO DBSIAF.PARAMETRO_INST (COD_TPO_PARAMETRO,COD_INSTITUICAO,VAL_PARAMETRO)
      VALUES (N_COD_TPO_PARAMETRO,P_COD_INST_DESTINO, S_TEL_ENDERECO);
    END IF;
    
--    COMMIT;  
EXCEPTION
   WHEN OTHERS THEN
      P_MSG_ERRO := 'ERROR CODE: ' || SQLCODE || ' | MSG: ' || SQLERRM;
      ROLLBACK;
      

BEGIN
    dbsiaf.pc_aluno.SP_LIBERA_STATUS(1227684,6);  
     END;     
     
     UPDATE DBSIAF.ALUNO A
     SET A.DAT_SAIDA = NULL, COD_STA_ALUNO =6, A.COD_TPO_SAIDA = NULL
     WHERE COD_ALUNO = 1227684
     /*
BEGIN
    DBSIAF.PC_MUTANTE_TABLE.SP_INSERE_FISICA('TBUID_ASS_CONTRATO',
													 'COD_ALUNO',
													 1227684);
                                                     
    DBSIAF.PC_MUTANTE_TABLE.SP_INSERE_FISICA('TBUID_ASS_CONTRATO',
													 'COD_PERIODO_LETIVO',
													 2640);
                                                     
                                                     
                                                     END;*/
                                                     /*
                                                     
               IF PC_SITUACAO_FINANCEIRA.F_MATRICULA_LIQUIDADA(DBSIAF.PC_MUTANTE_TABLE.F_RETORNA_NUMERO('TBUID_ASS_CONTRATO', 'COD_ALUNO')
                 		
                 DBSIAF.PC_MUTANTE_TABLE.F_RETORNA_NUMERO('TBUID_ASS_CONTRATO','COD_PERIODO_LETIVO')) = 'N'                                     
                                                     */
                              BEGIN                       
DBSIAF.PC_REMANEJAMENTO.BREMANEJANDO := TRUE;
      COMMIT;
INSERT INTO DBSIAF.ASS_CONTRATO (COD_ASS_CONTRATO,COD_TPO_CONTRATO,COD_ALUNO,DAT_ASSINATURA,IND_LIBERADO,IND_ACERTO_BASE,IDT_ACEITE_WEB
,IDT_ASS_CONTRATO,DAT_CADASTRO,COD_FOR_PAGAMENTO, COD_FOR_PARCELAMENTO, IND_ATIVO, IND_FECHADO, COD_CTR_PAGAMENTO, COD_INSTITUICAO, COD_PERIODO_LETIVO, COD_FUNCIONARIO)

SELECT DBSIAF.ASS_CONTRATO_S.NEXTVAL,COD_TPO_CONTRATO,1227684,DAT_ASSINATURA,IND_LIBERADO,IND_ACERTO_BASE,IDT_ACEITE_WEB
,IDT_ASS_CONTRATO,DAT_CADASTRO,COD_FOR_PAGAMENTO, COD_FOR_PARCELAMENTO, IND_ATIVO, IND_FECHADO, COD_CTR_PAGAMENTO, 9, 2640, 13391
FROM DBSIAF.ASS_CONTRATO
WHERE COD_ALUNO = 922990;
               
DBSIAF.PC_REMANEJAMENTO.BREMANEJANDO := false;
      COMMIT;
END;


END;
